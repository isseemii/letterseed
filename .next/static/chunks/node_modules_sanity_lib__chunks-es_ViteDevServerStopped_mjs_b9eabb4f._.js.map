{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"ViteDevServerStopped.mjs","sources":["file:///Users/isseemii/app/letterseed/node_modules/sanity/src/core/studio/ViteDevServerStopped.tsx"],"sourcesContent":["import {Card, Container, Heading, Stack, Text} from '@sanity/ui'\nimport {type ReactNode, useCallback, useEffect, useState} from 'react'\nimport {type ViteHotContext} from 'vite/types/hot.js'\n\nconst ERROR_TITLE = 'Dev server stopped'\nconst ERROR_DESCRIPTION =\n  'The development server has stopped. You may need to restart it to continue working.'\n\nexport class ViteDevServerStoppedError extends Error {\n  ViteDevServerStoppedError: boolean\n\n  constructor() {\n    super(ERROR_TITLE)\n    this.name = 'ViteDevServerStoppedError'\n    this.ViteDevServerStoppedError = true\n  }\n}\nconst serverHot = import.meta.hot\nconst isViteServer = (hot: unknown): hot is ViteHotContext => Boolean(hot)\n\nconst useDetectViteDevServerStopped = () => {\n  const [devServerStopped, setDevServerStopped] = useState(false)\n\n  const markDevServerStopped = useCallback(() => setDevServerStopped(true), [])\n\n  useEffect(() => {\n    // no early return to optimize tree-shaking\n    if (isViteServer(serverHot)) {\n      serverHot.on('vite:ws:disconnect', markDevServerStopped)\n    }\n  }, [markDevServerStopped])\n\n  return {devServerStopped}\n}\n\nconst ThrowViteServerStopped = () => {\n  const {devServerStopped} = useDetectViteDevServerStopped()\n\n  if (devServerStopped) throw new ViteDevServerStoppedError()\n\n  return null\n}\n\nexport const DetectViteDevServerStopped = (): ReactNode =>\n  isViteServer(serverHot) ? <ThrowViteServerStopped /> : null\n\nexport const DevServerStoppedErrorScreen = (): ReactNode => (\n  <Card\n    height=\"fill\"\n    overflow=\"auto\"\n    paddingY={[4, 5, 6, 7]}\n    paddingX={4}\n    sizing=\"border\"\n    tone=\"critical\"\n  >\n    <Container width={3}>\n      <Stack space={4}>\n        <Heading>{ERROR_TITLE}</Heading>\n\n        <Card border radius={2} overflow=\"auto\" padding={4} tone=\"inherit\">\n          <Stack space={4}>\n            <Text size={2}>{ERROR_DESCRIPTION}</Text>\n          </Stack>\n        </Card>\n      </Stack>\n    </Container>\n  </Card>\n)\n"],"names":["ERROR_TITLE","ERROR_DESCRIPTION","ViteDevServerStoppedError","Error","constructor","name","serverHot","import","hot","isViteServer","Boolean","useDetectViteDevServerStopped","$","_c","devServerStopped","setDevServerStopped","useState","t0","Symbol","for","markDevServerStopped","t1","t2","on","useEffect","t3","ThrowViteServerStopped","DetectViteDevServerStopped","DevServerStoppedErrorScreen"],"mappings":"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","ignoreList":[0],"debugId":null}}]
}